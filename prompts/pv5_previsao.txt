================================================================================
PONTO DE VERIFICA√á√ÉO 5: INTERFACE DE PREVIS√ÉO
================================================================================

OBJETIVO:
Criar um formul√°rio completo para fazer previs√µes usando o modelo de ML,
com campos de entrada, bot√£o de a√ß√£o e exibi√ß√£o formatada do resultado.

--------------------------------------------------------------------------------
PROMPT PARA CLAUDE CODE:
--------------------------------------------------------------------------------

Modifique o arquivo app.py para adicionar interface de previs√£o:

1. SE√á√ÉO DE PREVIS√ÉO:
   - Adicione nova se√ß√£o ao final: st.header("üîÆ Fazer Previs√£o")

2. VERIFICA√á√ÉO DO MODELO:
   - Se modelo √© None:
     * Exiba aviso amarelo explicando que o modelo n√£o est√° dispon√≠vel
     * Instrua a executar "python setup_modelo.py"
     * Pare aqui (n√£o mostre o formul√°rio)

3. TEXTO INTRODUT√ìRIO:
   - Se modelo est√° dispon√≠vel, exiba:
     "Insira os par√¢metros para obter uma previs√£o de produ√ß√£o:"

4. CAMPOS DE ENTRADA (3 colunas):
   
   COLUNA 1:
   - Seletor de cultura: ["Soja", "Milho", "Caf√©", "Algod√£o", "Cana"]
     * Use key="pred_cultura" para evitar conflito com filtro
   - Campo num√©rico para √°rea:
     * R√≥tulo: "√Årea plantada (hectares)"
     * M√≠nimo: 100
     * M√°ximo: 15.000.000
     * Valor padr√£o: 1.000.000
     * Passo: 100.000

   COLUNA 2:
   - Seletor de estado: ["MT", "PR", "GO", "MS", "MG", "SP", "BA", "RS"]
     * Use key="pred_estado"
   - Controle deslizante de temperatura:
     * R√≥tulo: "Temperatura m√©dia (¬∞C)"
     * M√≠nimo: 15.0
     * M√°ximo: 35.0
     * Valor padr√£o: 25.0
     * Passo: 0.5

   COLUNA 3:
   - Campo num√©rico para ano:
     * R√≥tulo: "Ano da safra"
     * M√≠nimo: 2024
     * M√°ximo: 2030
     * Valor padr√£o: 2025
   - Controle deslizante de precipita√ß√£o:
     * R√≥tulo: "Precipita√ß√£o anual (mm)"
     * M√≠nimo: 500
     * M√°ximo: 2500
     * Valor padr√£o: 1400
     * Passo: 50

5. BOT√ÉO DE PREVIS√ÉO:
   - Adicione espa√ßo vertical com st.markdown("<br>", unsafe_allow_html=True)
   - Centralize o bot√£o usando 3 colunas [1, 2, 1] e coloque na do meio
   - Texto: "üöÄ Calcular Previs√£o"
   - Tipo: "primary"
   - Largura total da coluna

6. EXECUTAR PREVIS√ÉO (quando bot√£o clicado):
   - Mostre spinner "Calculando..." durante o processamento
   - Monte a entrada: X = [[area, temperatura, precipitacao]]
   - Chame: predicao = modelo.predict(X)[0]
   - Calcule produtividade: predicao / area (se area > 0)

7. EXIBIR RESULTADOS:
   - Adicione linha separadora
   - Crie 3 colunas para m√©tricas:
     * Coluna 1: "üéØ Produ√ß√£o Estimada" ‚Üí valor em toneladas formatado
     * Coluna 2: "üìä Produtividade" ‚Üí valor em kg/ha formatado
     * Coluna 3: "üìà vs. M√©dia Hist√≥rica" ‚Üí diferen√ßa percentual
       - Calcule m√©dia hist√≥rica da cultura selecionada
       - Mostre delta positivo ou negativo
   
8. MENSAGEM DE SUCESSO:
   - Exiba caixa verde com resumo da previs√£o
   - Inclua: cultura, estado, ano, √°rea, produ√ß√£o estimada

9. CELEBRA√á√ÉO:
   - Adicione st.balloons() para efeito visual de sucesso

10. TRATAMENTO DE ERRO:
    - Envolva a previs√£o em try/except
    - Se erro, exiba mensagem vermelha com o erro

--------------------------------------------------------------------------------
CRIT√âRIOS DE SUCESSO:
--------------------------------------------------------------------------------

[ ] Formul√°rio aparece com todos os 6 campos
[ ] Campos est√£o organizados em 3 colunas
[ ] Bot√£o est√° centralizado e destacado
[ ] Ao clicar, spinner aparece brevemente
[ ] Resultado aparece em 3 m√©tricas
[ ] Mensagem verde resume a previs√£o
[ ] Bal√µes aparecem üéà
[ ] Se mudar inputs e clicar de novo, novo resultado aparece

--------------------------------------------------------------------------------
SE PRECISAR DE AJUDA:
--------------------------------------------------------------------------------

Copie o c√≥digo de refer√™ncia:
cp app_checkpoints/pv5_previsao.py app.py

================================================================================